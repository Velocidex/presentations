
<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Velociraptor Deployment</title>

        <link rel="stylesheet" href="../../dist/reveal.css">
        <link rel="stylesheet" href="../../dist/theme/serif.css" id="theme">
        <link rel="stylesheet" href="../../css/velo.css">
        <link rel="stylesheet" href="../../plugin/highlight/vs.css">
    </head>
    <body>
        <div class="reveal">
            <div class="slides">

<section data-markdown
  data-transition="fade"
  data-separator="^---+\n\n"
  data-separator-vertical="^>+\n\n">
<textarea data-template>
<!-- .slide: class="title" -->

<h1 style="font-size: 4ex">Velociraptor: Digging Deeper</h1>

<div class="inset">

## What is Velociraptor?

### Mike Cohen, Digital Paleontologist
### Rapid 7 Inc

</div>

<img src="/resources/velo_bike.gif" class="fixed" style=" right: 0px;  bottom: -100px; height: 300px; z-index: -10;"/>

---

<!-- .slide: class="content" -->
## What is Velociraptor?

Velociraptor is the premier endpoint visibility tool.

* Driven by Velociraptor Query Language artifacts.
* Primarily a DFIR tool.
* Compliance/Vulnerability management.
* Endpoint monitoring.
* Open source with a strong community

---

<!-- .slide: class="content" -->
## Architecture

![](../../modules/overview/deployment_overview.svg)

---

<!-- .slide: class="content" -->
## Scalable, fast, accurate

* Support Linux, Windows, MacOS, FreeBSD …
* Server simply collects the results of queries - clients do all the heavy lifting.
* Client memory and CPU usage is controlled via throttling and active cancellations.
* Server is optimized for speed and scalability
* Concurrency control ensures stability
* Bandwidth limits ensure network stability
* Single or multi-server modes (20k EP/server).

---

<!-- .slide: class="content small-font" -->
## Interactively investigate clients

Digital forensic plugins turn VQL into a high quality DFIR tool

![](../../modules/gui_tour/vfs_view.png)

---

<!-- .slide: class="content small-font" -->
## Velociraptor Artifacts

Artifacts encode VQL into user sharable code snippets

![](../../modules/artifacts_introduction/artifacts.png)

---

<!-- .slide: class="content small-font" -->
## Hunts - Collecting at scale

Collecting artifacts at scale from multiple endpoints

![](../../modules/secure_shell/select_hunt_artifacts.png)

---

<!-- .slide: class="content small-font" -->
## Postprocessing using Notebooks

Notebooks are collaborative shared VQL execution environments

![](../../modules/secure_shell/postprocess_hunt.png)

---

<!-- .slide: class="content small-font" -->
## Offline collector

Pre-programmed binary collecting, packaging and uploading collection

![](../../modules/offline_collector/offline_acquire.png)

---

<!-- .slide: class="content small-font" -->
## Acquired file is encrypted

![](../../modules/offline_collector/offline_encrypted.png)

---

<!-- .slide: class="content small-font" -->
## Monitoring endpoint autonomously with VQL

Event artifacts are never-ending VQL queries that watch for events on
clients and stream those events to the server.

![](../../modules/event_monitoring/event-queries.png)

---

<!-- .slide: class="content small-font" -->
## System changes relayed to server

Detections can be written to alert about suspicious changes to system
configuration

![](../../modules/event_monitoring/Windows.Events.EventLogModifications_results.png)


---

<!-- .slide: class="content small-font" -->
## Tracking processes on endpoint

* One of the critical questions we ask is `Where did this process come
  from?`
* Context of where the process came from is important in establishing
  initial access vector!
* Velociraptor can track processes locally on the endpoint at runtime.
* If the need arises, we can enrich with process execution information.
* This can be done **EVEN IF THE PROCESS EXITED**

---

<!-- .slide: class="content" -->
## View process tree

![](../../modules/tracking_processes/pstree.png)

---

<!-- .slide: class="content small-font" -->
## Inspect the process call chain

Process tracker maintains historical view so we can see exited
processes.

![](../../modules/tracking_processes/powershell_pstree.png)


---

<!-- .slide: class="content small-font" -->
## Administration through VQL

* All server administration tasks can be automated with VQL artifacts
* API access available for external automation
* Automatic upload of data to Elastic/Slack/Discord
* Open ended architecture enables novel use cases.

---

<!-- .slide: class="content" -->
## Conclusions

We only scratched the surface of what Velociraptor can do!

Check out the following links and join our community…

<table class="noborder">
<tr>
    <td>Docs</td><td>
        <a href="https://docs.velociraptor.app/">https://docs.velociraptor.app/</a>
    </td>
</tr>
<tr>
    <td>Github</td><td>
        <a href="https://github.com/Velocidex/velociraptor">https://github.com/Velocidex/velociraptor</a>
    </td>
</tr>
<tr>
    <td>Discord</td><td>
        <a href="https://docs.velociraptor.app/discord/">https://docs.velociraptor.app/discord/</a>
    </td>
</tr>
<tr>
    <td>Mailing list</td><td>
        <a href="mailto:velociraptor-discuss@googlegroups.com">velociraptor-discuss@googlegroups.com</a>
    </td>
</tr>
</table>

</textarea>
</section>

            </div>
        </div>
        <script src="../../dist/reveal.js"></script>
        <script src="../../plugin/markdown/markdown.js"></script>
        <script src="../../plugin/highlight/highlight.js"></script>
        <script src="../../plugin/notes/notes.js"></script>
        <script src="../../plugin/zoom/zoom.js"></script>
        <script src="../../js/jquery-3.3.1.min.js?1688344844"></script>
        <script src="../../js/slides.js"></script>
        <script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: false,
                hash: true,
                center: false,
                slideNumber: true,

                plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
            }).then(initializeSlides);

        </script>

    </body>
</html>
